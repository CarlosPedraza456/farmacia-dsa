{% extends "comun/base.html" %}

{% block content %}

<h1>Productos Registrados</h1>

<div class="row col-12 justify-content-end mb-2 pr-0">
  <a class="btn btn-success col-md-2" href=" {% url 'registroProducto' %} ">Agregar nuevo Producto</a>
</div>

{% if mensaje %}  
    <div class="alert alert-success" role="alert">
      Producto Eliminado con exito
    </div>
{% endif %}

<table class="table table-dark">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Producto</th>
        <th scope="col">Precio de referencia ($)</th>
        <th scope="col">Disponibilidad</th>
        <th scope="col">Categoria</th>
        <th scope="col">Lote</th>
        <th scope="col">Cantidad</th>
        <th scope="col">Iva</th>
        <th scope="col">Opciones</th>
      </tr>
    </thead>
    <tbody>
    
      {% for producto in productos %}
      <tr>
        <th scope="row">{{ producto.id }}</th>
        <td>{{ producto.name }} </td>
        <td>{{ producto.price_ref }}</td>
        <td>{{ producto.available }}</td>
        <td>{{ producto.category }}</td>
        <td>{{ producto.lote }}</td>
        <td>{{ producto.cantidad }}</td>
        <td> {% if producto.iva %} Si
          {% else %}
          No
          {% endif %} </td>
        <td> 
            <a class="btn btn-light btn-sm" href=" {% url 'editarProducto' producto.id %} ">Editar</a> 
            <a class="btn btn-light btn-sm" href=" {% url 'eliminarProducto' producto.id %} ">Eliminar</a>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="10">No hay Productos registrados.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

{% endblock %}