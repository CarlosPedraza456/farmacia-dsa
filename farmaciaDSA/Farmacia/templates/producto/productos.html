{% extends "comun/base.html" %}

{% block content %}

<h1 class="m-2">Lista de Productos</h1>
<button type="button" class="btn btn-primary m-2 ">
    <a class="text-decoration-none text-light" href=" {% url 'registroProducto' %} "> + Nuevo Producto</a>
</button>

{% if mensaje %}  
    <div class="alert alert-success" role="alert">
      Producto Eliminado con exito
    </div>
{% endif %}


<p class="m-2 text-secondary">Verifique los Productos agregados</p>

<div class="container">
  <div class="row justify-content-center">
    <div class="table-responsive mt-4 shadow p-3 mb-5 bg-body-tertiary">

      <table class="table table-striped table-bordered table-hover">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Producto</th>
            <th scope="col">Precio de referencia ($)</th>
            <th scope="col">Disponibilidad</th>
            <th scope="col">Categoria</th>
            <th scope="col">Lote</th>
            <th scope="col">Cantidad</th>
            <th scope="col">Iva</th>
            <th scope="col">Opciones</th>
          </tr>
        </thead>
        <tbody>
        
          {% for producto in productos %}
          <tr>
            <th scope="row">{{ producto.id }}</th>
            <td>{{ producto.name }} </td>
            <td>{{ producto.price_ref }}</td>
            <td>{{ producto.available }}</td>
            <td>{{ producto.category }}</td>
            <td>{{ producto.lote }}</td>
            <td>{{ producto.cantidad }}</td>
            <td> {% if producto.iva %} Si
              {% else %}
              No
              {% endif %} </td>
            <td> 
                <a class="btn btn-primary" href=" {% url 'editarProducto' producto.id %} ">Editar</a> 
                <a class="btn btn-primary" href=" {% url 'eliminarProducto' producto.id %} ">Eliminar</a>
            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="10">No hay Productos registrados.</td>
          </tr>
          {% endfor %}
        </tbody>
     </table>

    </div>
  </div>
</div>


{% endblock %}